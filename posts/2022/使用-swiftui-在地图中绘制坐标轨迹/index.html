<!DOCTYPE html>
<html lang="en-us">
<head>
  
  <link rel="dns-prefetch" href="https://latest.cactus.chat">
  <link rel="preconnect" href="https://latest.cactus.chat" crossorigin>

  
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> 使用 SwiftUI 在地图中绘制坐标轨迹 | OreChou</title>
  <link rel = 'canonical' href = 'https://www.orechou.com/posts/2022/%E4%BD%BF%E7%94%A8-swiftui-%E5%9C%A8%E5%9C%B0%E5%9B%BE%E4%B8%AD%E7%BB%98%E5%88%B6%E5%9D%90%E6%A0%87%E8%BD%A8%E8%BF%B9/'>
  <meta name="description" content="所有的文字，均致十年后的自己.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:url" content="https://www.orechou.com/posts/2022/%E4%BD%BF%E7%94%A8-swiftui-%E5%9C%A8%E5%9C%B0%E5%9B%BE%E4%B8%AD%E7%BB%98%E5%88%B6%E5%9D%90%E6%A0%87%E8%BD%A8%E8%BF%B9/">
  <meta property="og:site_name" content="OreChou">
  <meta property="og:title" content="使用 SwiftUI 在地图中绘制坐标轨迹">
  <meta property="og:description" content="一直有想做属于自己的 App 的想法，零零散散地有学习一些内容，现在决定开启一个记录学习过程的系列博文，以此来巩固自己所学到的 iOS 开发知识和激励自己把第一个 App 实现出来。 脑海中一直有个做地图类应用的想法，本科做移动轨迹相关的毕业设计。此类应用主要包括地图（Map）、坐标点（Location）、绘制轨迹（Polyline）几个要素。这篇博文将会使用 SwiftUI 在地图上连接坐标点绘制出轨迹。GPS 坐标数据可以在 microsoft 上下载。效果如下： 首先创建一个 SwiftUI 工程的项目，项目的文件组织如下： 先定义坐标点的数据结构，代码如下：
1 2 3 4 5 6 7 8 9 10 import Foundation struct Location: Hashable, Codable, Identifiable { var id: Int // 经度 var longitude: Double // 纬度 var latitude: Double var isValid: Bool } 坐标数据的 ViewModel，我们将从 location.json 中加载所有的坐标点，代码如下：">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-03-27T17:43:00+00:00">
    <meta property="article:modified_time" content="2022-03-27T17:43:00+00:00">
    <meta property="article:tag" content="IOS">
    <meta property="article:tag" content="SwiftUI">

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="使用 SwiftUI 在地图中绘制坐标轨迹">
  <meta name="twitter:description" content="一直有想做属于自己的 App 的想法，零零散散地有学习一些内容，现在决定开启一个记录学习过程的系列博文，以此来巩固自己所学到的 iOS 开发知识和激励自己把第一个 App 实现出来。 脑海中一直有个做地图类应用的想法，本科做移动轨迹相关的毕业设计。此类应用主要包括地图（Map）、坐标点（Location）、绘制轨迹（Polyline）几个要素。这篇博文将会使用 SwiftUI 在地图上连接坐标点绘制出轨迹。GPS 坐标数据可以在 microsoft 上下载。效果如下： 首先创建一个 SwiftUI 工程的项目，项目的文件组织如下： 先定义坐标点的数据结构，代码如下：
1 2 3 4 5 6 7 8 9 10 import Foundation struct Location: Hashable, Codable, Identifiable { var id: Int // 经度 var longitude: Double // 纬度 var latitude: Double var isValid: Bool } 坐标数据的 ViewModel，我们将从 location.json 中加载所有的坐标点，代码如下：">

  
  
    
  
  
  <link rel="stylesheet" href="https://www.orechou.com/css/styles.f59e168855cac03647a80389be8d4e966cc06837a3de71c1b96562ddeabd494d52680d81ff33656008c30a0c66df76d770f79469f4cfa414a77be60ec0f403dd.css" integrity="sha512-9Z4WiFXKwDZHqAOJvo1OlmzAaDej3nHBuWVi3eq9SU1SaA2B/zNlYAjDCgxm33bXcPeUafTPpBSne&#43;YOwPQD3Q=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  <link rel="icon" type="image/x-icon" href="https://www.orechou.com/images/favicon.ico" />
<link rel="shortcut icon" type="image/x-icon" href="https://www.orechou.com/images/favicon.ico" />

  
  
  
  
  

  
  <script>
    (function() {
      try {
        
        var savedTheme = localStorage.getItem('theme');
        var systemTheme = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        var theme = savedTheme || systemTheme;

        
        if (theme === 'white' || theme === 'classic') {
          theme = 'light';
          localStorage.setItem('theme', theme);
        }

        
        if (theme && theme !== 'default') {
          document.documentElement.classList.add('theme-' + theme);
        }
      } catch (e) {
        
      }
    })();
  </script>

  
  <script>
    document.documentElement.dataset.copyLabel = "Copy";
    document.documentElement.dataset.copiedLabel = "Copied!";
  </script>
</head>

<body class="max-width mx-auto px3 ltr">
  
  <div class="theme-switcher">
    
  </div>

  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="window.scrollTo({top: 0, behavior: 'smooth'});" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Posts</a></li>
         
        <li><a href="/books">Books</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://www.orechou.com/posts/2022/%E8%AE%B0%E4%BA%8B%E4%B8%80%E5%88%99/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="toggleDisplay('i-prev')" onmouseout="toggleDisplay('i-prev')"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://www.orechou.com/posts/2022/edc-%E6%B8%85%E5%8D%95/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="toggleDisplay('i-next')" onmouseout="toggleDisplay('i-next')"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="window.scrollTo({top: 0, behavior: 'smooth'});" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="toggleDisplay('i-top')" onmouseout="toggleDisplay('i-top')"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="toggleDisplay('i-share')" onmouseout="toggleDisplay('i-share')" onclick="toggleDisplay('share');return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&text=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&title=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&is_video=false&description=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9&body=Check out this article: https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&title=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&title=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&name=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9&description=%3cp%3e%e4%b8%80%e7%9b%b4%e6%9c%89%e6%83%b3%e5%81%9a%e5%b1%9e%e4%ba%8e%e8%87%aa%e5%b7%b1%e7%9a%84%20App%20%e7%9a%84%e6%83%b3%e6%b3%95%ef%bc%8c%e9%9b%b6%e9%9b%b6%e6%95%a3%e6%95%a3%e5%9c%b0%e6%9c%89%e5%ad%a6%e4%b9%a0%e4%b8%80%e4%ba%9b%e5%86%85%e5%ae%b9%ef%bc%8c%e7%8e%b0%e5%9c%a8%e5%86%b3%e5%ae%9a%e5%bc%80%e5%90%af%e4%b8%80%e4%b8%aa%e8%ae%b0%e5%bd%95%e5%ad%a6%e4%b9%a0%e8%bf%87%e7%a8%8b%e7%9a%84%e7%b3%bb%e5%88%97%e5%8d%9a%e6%96%87%ef%bc%8c%e4%bb%a5%e6%ad%a4%e6%9d%a5%e5%b7%a9%e5%9b%ba%e8%87%aa%e5%b7%b1%e6%89%80%e5%ad%a6%e5%88%b0%e7%9a%84%20iOS%20%e5%bc%80%e5%8f%91%e7%9f%a5%e8%af%86%e5%92%8c%e6%bf%80%e5%8a%b1%e8%87%aa%e5%b7%b1%e6%8a%8a%e7%ac%ac%e4%b8%80%e4%b8%aa%20App%20%e5%ae%9e%e7%8e%b0%e5%87%ba%e6%9d%a5%e3%80%82%0a%e8%84%91%e6%b5%b7%e4%b8%ad%e4%b8%80%e7%9b%b4%e6%9c%89%e4%b8%aa%e5%81%9a%e5%9c%b0%e5%9b%be%e7%b1%bb%e5%ba%94%e7%94%a8%e7%9a%84%e6%83%b3%e6%b3%95%ef%bc%8c%e6%9c%ac%e7%a7%91%e5%81%9a%e7%a7%bb%e5%8a%a8%e8%bd%a8%e8%bf%b9%e7%9b%b8%e5%85%b3%e7%9a%84%e6%af%95%e4%b8%9a%e8%ae%be%e8%ae%a1%e3%80%82%e6%ad%a4%e7%b1%bb%e5%ba%94%e7%94%a8%e4%b8%bb%e8%a6%81%e5%8c%85%e6%8b%ac%e5%9c%b0%e5%9b%be%ef%bc%88Map%ef%bc%89%e3%80%81%e5%9d%90%e6%a0%87%e7%82%b9%ef%bc%88Location%ef%bc%89%e3%80%81%e7%bb%98%e5%88%b6%e8%bd%a8%e8%bf%b9%ef%bc%88Polyline%ef%bc%89%e5%87%a0%e4%b8%aa%e8%a6%81%e7%b4%a0%e3%80%82%e8%bf%99%e7%af%87%e5%8d%9a%e6%96%87%e5%b0%86%e4%bc%9a%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%8a%e8%bf%9e%e6%8e%a5%e5%9d%90%e6%a0%87%e7%82%b9%e7%bb%98%e5%88%b6%e5%87%ba%e8%bd%a8%e8%bf%b9%e3%80%82GPS%20%e5%9d%90%e6%a0%87%e6%95%b0%e6%8d%ae%e5%8f%af%e4%bb%a5%e5%9c%a8%20%3ca%20href%3d%22https%3a%2f%2fwww.microsoft.com%2fen-us%2fdownload%2fconfirmation.aspx%3fid%3d52367%22%3emicrosoft%3c%2fa%3e%20%e4%b8%8a%e4%b8%8b%e8%bd%bd%e3%80%82%e6%95%88%e6%9e%9c%e5%a6%82%e4%b8%8b%ef%bc%9a%0a%3cimg%20src%3d%22https%3a%2f%2fraw.githubusercontent.com%2fOreChou%2fPicBed%2fmain%2fimg%2fpolyline_demo.png%22%20alt%3d%22%22%3e%0a%e9%a6%96%e5%85%88%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%20SwiftUI%20%e5%b7%a5%e7%a8%8b%e7%9a%84%e9%a1%b9%e7%9b%ae%ef%bc%8c%e9%a1%b9%e7%9b%ae%e7%9a%84%e6%96%87%e4%bb%b6%e7%bb%84%e7%bb%87%e5%a6%82%e4%b8%8b%ef%bc%9a%0a%3cimg%20src%3d%22https%3a%2f%2fraw.githubusercontent.com%2fOreChou%2fPicBed%2fmain%2fimg%2fSwiftUIPolyline_Project.png%22%20alt%3d%22%22%3e%0a%e5%85%88%e5%ae%9a%e4%b9%89%e5%9d%90%e6%a0%87%e7%82%b9%e7%9a%84%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84%ef%bc%8c%e4%bb%a3%e7%a0%81%e5%a6%82%e4%b8%8b%ef%bc%9a%3c%2fp%3e%0a%3cdiv%20class%3d%22highlight%22%3e%3cdiv%20style%3d%22color%3a%23f8f8f2%3bbackground-color%3a%23282a36%3b-moz-tab-size%3a4%3b-o-tab-size%3a4%3btab-size%3a4%3b%22%3e%0a%3ctable%20style%3d%22border-spacing%3a0%3bpadding%3a0%3bmargin%3a0%3bborder%3a0%3b%22%3e%3ctr%3e%3ctd%20style%3d%22vertical-align%3atop%3bpadding%3a0%3bmargin%3a0%3bborder%3a0%3b%22%3e%0a%3cpre%20tabindex%3d%220%22%20style%3d%22color%3a%23f8f8f2%3bbackground-color%3a%23282a36%3b-moz-tab-size%3a4%3b-o-tab-size%3a4%3btab-size%3a4%3b%22%3e%3ccode%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%201%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%202%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%203%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%204%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%205%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%206%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%207%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%208%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%209%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e10%0a%3c%2fspan%3e%3c%2fcode%3e%3c%2fpre%3e%3c%2ftd%3e%0a%3ctd%20style%3d%22vertical-align%3atop%3bpadding%3a0%3bmargin%3a0%3bborder%3a0%3b%3bwidth%3a100%25%22%3e%0a%3cpre%20tabindex%3d%220%22%20style%3d%22color%3a%23f8f8f2%3bbackground-color%3a%23282a36%3b-moz-tab-size%3a4%3b-o-tab-size%3a4%3btab-size%3a4%3b%22%3e%3ccode%20class%3d%22language-swift%22%20data-lang%3d%22swift%22%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eimport%3c%2fspan%3e%20%3cspan%20style%3d%22color%3a%2350fa7b%22%3eFoundation%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3estruct%3c%2fspan%3e%20%3cspan%20style%3d%22color%3a%2350fa7b%22%3eLocation%3c%2fspan%3e%3a%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eHashable%3c%2fspan%3e%2c%20Codable%2c%20Identifiable%20%7b%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%20%20%20%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3evar%3c%2fspan%3e%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eid%3c%2fspan%3e%3a%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eInt%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%20%20%20%20%3cspan%20style%3d%22color%3a%236272a4%22%3e%2f%2f%20%e7%bb%8f%e5%ba%a6%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%20%20%20%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3evar%3c%2fspan%3e%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3elongitude%3c%2fspan%3e%3a%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eDouble%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%20%20%20%20%3cspan%20style%3d%22color%3a%236272a4%22%3e%2f%2f%20%e7%ba%ac%e5%ba%a6%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%20%20%20%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3evar%3c%2fspan%3e%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3elatitude%3c%2fspan%3e%3a%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eDouble%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%20%20%20%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3evar%3c%2fspan%3e%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eisValid%3c%2fspan%3e%3a%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eBool%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%7d%0a%3c%2fspan%3e%3c%2fspan%3e%3c%2fcode%3e%3c%2fpre%3e%3c%2ftd%3e%3c%2ftr%3e%3c%2ftable%3e%0a%3c%2fdiv%3e%0a%3c%2fdiv%3e%3cp%3e%e5%9d%90%e6%a0%87%e6%95%b0%e6%8d%ae%e7%9a%84%20ViewModel%ef%bc%8c%e6%88%91%e4%bb%ac%e5%b0%86%e4%bb%8e%20location.json%20%e4%b8%ad%e5%8a%a0%e8%bd%bd%e6%89%80%e6%9c%89%e7%9a%84%e5%9d%90%e6%a0%87%e7%82%b9%ef%bc%8c%e4%bb%a3%e7%a0%81%e5%a6%82%e4%b8%8b%ef%bc%9a%3c%2fp%3e" aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&t=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents"></nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        使用 SwiftUI 在地图中绘制坐标轨迹
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2022-03-27 17:43:00 &#43;0000 UTC" itemprop="datePublished">2022-03-27</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          4 minute read
        </div>
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/ios" rel="tag">iOS</a>
            
             ,  
            <a class="tag-link" href="/tags/swiftui" rel="tag">SwiftUI</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <p>一直有想做属于自己的 App 的想法，零零散散地有学习一些内容，现在决定开启一个记录学习过程的系列博文，以此来巩固自己所学到的 iOS 开发知识和激励自己把第一个 App 实现出来。
脑海中一直有个做地图类应用的想法，本科做移动轨迹相关的毕业设计。此类应用主要包括地图（Map）、坐标点（Location）、绘制轨迹（Polyline）几个要素。这篇博文将会使用 SwiftUI 在地图上连接坐标点绘制出轨迹。GPS 坐标数据可以在 <a href="https://www.microsoft.com/en-us/download/confirmation.aspx?id=52367">microsoft</a> 上下载。效果如下：
<img src="https://raw.githubusercontent.com/OreChou/PicBed/main/img/polyline_demo.png" alt="">
首先创建一个 SwiftUI 工程的项目，项目的文件组织如下：
<img src="https://raw.githubusercontent.com/OreChou/PicBed/main/img/SwiftUIPolyline_Project.png" alt="">
先定义坐标点的数据结构，代码如下：</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">import</span> <span style="color:#50fa7b">Foundation</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">struct</span> <span style="color:#50fa7b">Location</span>: <span style="color:#8be9fd;font-style:italic">Hashable</span>, Codable, Identifiable {
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">id</span>: <span style="color:#8be9fd;font-style:italic">Int</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">// 经度</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">longitude</span>: <span style="color:#8be9fd;font-style:italic">Double</span>
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">// 纬度</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">latitude</span>: <span style="color:#8be9fd;font-style:italic">Double</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">isValid</span>: <span style="color:#8be9fd;font-style:italic">Bool</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>坐标数据的 ViewModel，我们将从 location.json 中加载所有的坐标点，代码如下：</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">import</span> <span style="color:#50fa7b">Foundation</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">final</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">LocationViewModel</span>: ObservableObject {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    @Published <span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">locations</span>: [Location] = load(<span style="color:#f1fa8c">&#34;location.json&#34;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">load</span>&lt;T: Decodable&gt;(<span style="color:#ff79c6">_</span> fileName: <span style="color:#8be9fd;font-style:italic">String</span>) -&gt; T {
</span></span><span style="display:flex;"><span>    <span style="color:#6272a4">// The data value type allows simple byte buffers to take on behavior of Foundation objects.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#8be9fd;font-style:italic">data</span>: Data
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">guard</span> <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#8be9fd;font-style:italic">file</span> = Bundle.main.url(forResource: fileName, withExtension: <span style="color:#ff79c6">nil</span>) <span style="color:#ff79c6">else</span> {
</span></span><span style="display:flex;"><span>        <span style="font-style:italic">fatalError</span>(<span style="color:#f1fa8c">&#34;Couldn&#39;t find </span><span style="color:#f1fa8c">\(</span>fileName<span style="color:#f1fa8c">)</span><span style="color:#f1fa8c"> in main bundle.&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">do</span> {
</span></span><span style="display:flex;"><span>        data = <span style="color:#ff79c6">try</span> Data(contentsOf: file)
</span></span><span style="display:flex;"><span>    } <span style="color:#ff79c6">catch</span> {
</span></span><span style="display:flex;"><span>        <span style="font-style:italic">fatalError</span>(<span style="color:#f1fa8c">&#34;Couldn&#39;t load </span><span style="color:#f1fa8c">\(</span>fileName<span style="color:#f1fa8c">)</span><span style="color:#f1fa8c"> from main bundle:</span><span style="color:#f1fa8c">\n</span><span style="color:#f1fa8c">\(</span>error<span style="color:#f1fa8c">)</span><span style="color:#f1fa8c">&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#ff79c6">do</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#8be9fd;font-style:italic">decoder</span> = JSONDecoder()
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">return</span> <span style="color:#ff79c6">try</span> decoder.decode(T.<span style="color:#ff79c6">self</span>, from: data)
</span></span><span style="display:flex;"><span>    } <span style="color:#ff79c6">catch</span> {
</span></span><span style="display:flex;"><span>        <span style="font-style:italic">fatalError</span>(<span style="color:#f1fa8c">&#34;Couldn&#39;t parse </span><span style="color:#f1fa8c">\(</span>fileName<span style="color:#f1fa8c">)</span><span style="color:#f1fa8c"> as </span><span style="color:#f1fa8c">\(</span>T.<span style="color:#ff79c6">self</span><span style="color:#f1fa8c">)</span><span style="color:#f1fa8c">:</span><span style="color:#f1fa8c">\n</span><span style="color:#f1fa8c">\(</span>error<span style="color:#f1fa8c">)</span><span style="color:#f1fa8c">&#34;</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>接下来我们将利用 <code>UIViewRepresentable</code> 这个协议实现将 UIKit 的 UIView 集成到 SwiftUI 中使用。<code>UIViewRepresentable</code> 只包含四个方法。其中 <code>makeUIView</code> , <code>updateUIView</code> 用于创建和更新视图。<code>makeCoordinator</code> 创建协调器，用于通知其它 UI 与该 View 之间的变化更新。<code>dismantleUIView</code> 用于在移除 View 时做一些善后操作。四个方法在 <code>UIViewRepresentable</code> 生命周期中的调用顺序如下：
<img src="https://raw.githubusercontent.com/OreChou/PicBed/main/img/UIViewRepresentable_lifecycle.png" alt="">
我们的 MapView 代码如下：</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">import</span> <span style="color:#50fa7b">SwiftUI</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">import</span> <span style="color:#50fa7b">MapKit</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">struct</span> <span style="color:#50fa7b">MapView</span>: UIViewRepresentable {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#8be9fd;font-style:italic">locationViewModel</span> = LocationViewModel()
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#8be9fd;font-style:italic">mapZoomEdgeInsets</span> = UIEdgeInsets(top: <span style="color:#bd93f9">30.0</span>, <span style="color:#ff79c6">left</span>: <span style="color:#bd93f9">30.0</span>, bottom: <span style="color:#bd93f9">30.0</span>, <span style="color:#ff79c6">right</span>: <span style="color:#bd93f9">30.0</span>)
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">makeCoordinator</span>() -&gt; MapViewCoordinator {
</span></span><span style="display:flex;"><span>        MapViewCoordinator(<span style="color:#ff79c6">self</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">makeUIView</span>(context: Context) -&gt; MKMapView {
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#8be9fd;font-style:italic">mapView</span> = MKMapView()
</span></span><span style="display:flex;"><span>        mapView.showsUserLocation = <span style="color:#ff79c6">true</span>
</span></span><span style="display:flex;"><span>        mapView.delegate = context.coordinator
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">return</span> mapView
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">updateUIView</span>(<span style="color:#ff79c6">_</span> uiView: MKMapView, context: UIViewRepresentableContext&lt;MapView&gt;) {
</span></span><span style="display:flex;"><span>        updateOverlays(from: uiView)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">updateOverlays</span>(from mapView: MKMapView) {
</span></span><span style="display:flex;"><span>        mapView.removeOverlays(mapView.overlays)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">coordinates</span> = [CLLocationCoordinate2D]()
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">for</span> i <span style="color:#ff79c6">in</span> <span style="color:#bd93f9">0.</span>.&lt;locationViewModel.locations.<span style="font-style:italic">count</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#8be9fd;font-style:italic">location</span> = locationViewModel.locations[i]
</span></span><span style="display:flex;"><span>            coordinates.append(CLLocationCoordinate2D(latitude: location.latitude, longitude: location.longitude))
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#8be9fd;font-style:italic">polyline</span> = MKPolyline(coordinates: coordinates, <span style="font-style:italic">count</span>: locationViewModel.locations.<span style="font-style:italic">count</span>)
</span></span><span style="display:flex;"><span>        mapView.addOverlay(polyline)
</span></span><span style="display:flex;"><span>        setMapZoomArea(<span style="font-style:italic">map</span>: mapView, polyline: polyline, edgeInsets: mapZoomEdgeInsets, animated: <span style="color:#ff79c6">true</span>)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">setMapZoomArea</span>(<span style="font-style:italic">map</span>: MKMapView, polyline: MKPolyline, edgeInsets: UIEdgeInsets, animated: <span style="color:#8be9fd;font-style:italic">Bool</span> = <span style="color:#ff79c6">false</span>) {
</span></span><span style="display:flex;"><span>        <span style="font-style:italic">map</span>.setVisibleMapRect(polyline.boundingMapRect, edgePadding: edgeInsets, animated: animated)
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">struct</span> <span style="color:#50fa7b">MapView_Previews</span>: PreviewProvider {
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">static</span> <span style="color:#8be9fd;font-style:italic">var</span> <span style="color:#8be9fd;font-style:italic">previews</span>: some View {
</span></span><span style="display:flex;"><span>        MapView()
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>协调器 MayViewCoordinator 代码如下：</p>
<div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-swift" data-lang="swift"><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">import</span> <span style="color:#50fa7b">Foundation</span>
</span></span><span style="display:flex;"><span><span style="color:#8be9fd;font-style:italic">import</span> <span style="color:#50fa7b">MapKit</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ff79c6">final</span> <span style="color:#8be9fd;font-style:italic">class</span> <span style="color:#50fa7b">MapViewCoordinator</span>: NSObject, MKMapViewDelegate {
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">private</span> <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#8be9fd;font-style:italic">mapView</span>: MapView
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">init</span>(<span style="color:#ff79c6">_</span> control: MapView) {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">self</span>.mapView = control
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">mapView</span>(<span style="color:#ff79c6">_</span> mapView: MKMapView, didAdd views: [MKAnnotationView]) {
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">if</span> <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#8be9fd;font-style:italic">annotationView</span> = views.<span style="font-style:italic">first</span>, <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#8be9fd;font-style:italic">annotation</span> = annotationView.annotation {
</span></span><span style="display:flex;"><span>            <span style="color:#ff79c6">if</span> annotation <span style="color:#ff79c6">is</span> MKUserLocation {
</span></span><span style="display:flex;"><span>                <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#8be9fd;font-style:italic">region</span> = MKCoordinateRegion(center: annotation.coordinate, latitudinalMeters: <span style="color:#bd93f9">1000</span>, longitudinalMeters: <span style="color:#bd93f9">1000</span>)
</span></span><span style="display:flex;"><span>                mapView.setRegion(region, animated: <span style="color:#ff79c6">true</span>)
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8be9fd;font-style:italic">func</span> <span style="color:#50fa7b">mapView</span>(<span style="color:#ff79c6">_</span> mapView: MKMapView, rendererFor overlay: MKOverlay) -&gt; MKOverlayRenderer {
</span></span><span style="display:flex;"><span>        <span style="color:#8be9fd;font-style:italic">let</span> <span style="color:#8be9fd;font-style:italic">renderer</span> = MKPolylineRenderer(overlay: overlay)
</span></span><span style="display:flex;"><span>        <span style="color:#6272a4">// set the line properties such as color and width</span>
</span></span><span style="display:flex;"><span>        renderer.strokeColor = .blue
</span></span><span style="display:flex;"><span>        renderer.lineWidth = <span style="color:#bd93f9">3.0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ff79c6">return</span> renderer
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></td></tr></table>
</div>
</div><p>参考链接
<a href="https://www.fatbobman.com/posts/uikitInSwiftUI/">https://www.fatbobman.com/posts/uikitInSwiftUI/</a>
<a href="https://medium.com/@mauvazquez/decoding-a-polyline-and-drawing-it-with-swiftui-mapkit-611952bd0ecb">https://medium.com/@mauvazquez/decoding-a-polyline-and-drawing-it-with-swiftui-mapkit-611952bd0ecb</a></p>

    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Posts</a></li>
         
          <li><a href="/books">Books</a></li>
         
          <li><a href="/about">About</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents"></nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&text=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&title=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&is_video=false&description=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9&body=Check out this article: https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&title=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&title=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&name=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9&description=%3cp%3e%e4%b8%80%e7%9b%b4%e6%9c%89%e6%83%b3%e5%81%9a%e5%b1%9e%e4%ba%8e%e8%87%aa%e5%b7%b1%e7%9a%84%20App%20%e7%9a%84%e6%83%b3%e6%b3%95%ef%bc%8c%e9%9b%b6%e9%9b%b6%e6%95%a3%e6%95%a3%e5%9c%b0%e6%9c%89%e5%ad%a6%e4%b9%a0%e4%b8%80%e4%ba%9b%e5%86%85%e5%ae%b9%ef%bc%8c%e7%8e%b0%e5%9c%a8%e5%86%b3%e5%ae%9a%e5%bc%80%e5%90%af%e4%b8%80%e4%b8%aa%e8%ae%b0%e5%bd%95%e5%ad%a6%e4%b9%a0%e8%bf%87%e7%a8%8b%e7%9a%84%e7%b3%bb%e5%88%97%e5%8d%9a%e6%96%87%ef%bc%8c%e4%bb%a5%e6%ad%a4%e6%9d%a5%e5%b7%a9%e5%9b%ba%e8%87%aa%e5%b7%b1%e6%89%80%e5%ad%a6%e5%88%b0%e7%9a%84%20iOS%20%e5%bc%80%e5%8f%91%e7%9f%a5%e8%af%86%e5%92%8c%e6%bf%80%e5%8a%b1%e8%87%aa%e5%b7%b1%e6%8a%8a%e7%ac%ac%e4%b8%80%e4%b8%aa%20App%20%e5%ae%9e%e7%8e%b0%e5%87%ba%e6%9d%a5%e3%80%82%0a%e8%84%91%e6%b5%b7%e4%b8%ad%e4%b8%80%e7%9b%b4%e6%9c%89%e4%b8%aa%e5%81%9a%e5%9c%b0%e5%9b%be%e7%b1%bb%e5%ba%94%e7%94%a8%e7%9a%84%e6%83%b3%e6%b3%95%ef%bc%8c%e6%9c%ac%e7%a7%91%e5%81%9a%e7%a7%bb%e5%8a%a8%e8%bd%a8%e8%bf%b9%e7%9b%b8%e5%85%b3%e7%9a%84%e6%af%95%e4%b8%9a%e8%ae%be%e8%ae%a1%e3%80%82%e6%ad%a4%e7%b1%bb%e5%ba%94%e7%94%a8%e4%b8%bb%e8%a6%81%e5%8c%85%e6%8b%ac%e5%9c%b0%e5%9b%be%ef%bc%88Map%ef%bc%89%e3%80%81%e5%9d%90%e6%a0%87%e7%82%b9%ef%bc%88Location%ef%bc%89%e3%80%81%e7%bb%98%e5%88%b6%e8%bd%a8%e8%bf%b9%ef%bc%88Polyline%ef%bc%89%e5%87%a0%e4%b8%aa%e8%a6%81%e7%b4%a0%e3%80%82%e8%bf%99%e7%af%87%e5%8d%9a%e6%96%87%e5%b0%86%e4%bc%9a%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%8a%e8%bf%9e%e6%8e%a5%e5%9d%90%e6%a0%87%e7%82%b9%e7%bb%98%e5%88%b6%e5%87%ba%e8%bd%a8%e8%bf%b9%e3%80%82GPS%20%e5%9d%90%e6%a0%87%e6%95%b0%e6%8d%ae%e5%8f%af%e4%bb%a5%e5%9c%a8%20%3ca%20href%3d%22https%3a%2f%2fwww.microsoft.com%2fen-us%2fdownload%2fconfirmation.aspx%3fid%3d52367%22%3emicrosoft%3c%2fa%3e%20%e4%b8%8a%e4%b8%8b%e8%bd%bd%e3%80%82%e6%95%88%e6%9e%9c%e5%a6%82%e4%b8%8b%ef%bc%9a%0a%3cimg%20src%3d%22https%3a%2f%2fraw.githubusercontent.com%2fOreChou%2fPicBed%2fmain%2fimg%2fpolyline_demo.png%22%20alt%3d%22%22%3e%0a%e9%a6%96%e5%85%88%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%20SwiftUI%20%e5%b7%a5%e7%a8%8b%e7%9a%84%e9%a1%b9%e7%9b%ae%ef%bc%8c%e9%a1%b9%e7%9b%ae%e7%9a%84%e6%96%87%e4%bb%b6%e7%bb%84%e7%bb%87%e5%a6%82%e4%b8%8b%ef%bc%9a%0a%3cimg%20src%3d%22https%3a%2f%2fraw.githubusercontent.com%2fOreChou%2fPicBed%2fmain%2fimg%2fSwiftUIPolyline_Project.png%22%20alt%3d%22%22%3e%0a%e5%85%88%e5%ae%9a%e4%b9%89%e5%9d%90%e6%a0%87%e7%82%b9%e7%9a%84%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84%ef%bc%8c%e4%bb%a3%e7%a0%81%e5%a6%82%e4%b8%8b%ef%bc%9a%3c%2fp%3e%0a%3cdiv%20class%3d%22highlight%22%3e%3cdiv%20style%3d%22color%3a%23f8f8f2%3bbackground-color%3a%23282a36%3b-moz-tab-size%3a4%3b-o-tab-size%3a4%3btab-size%3a4%3b%22%3e%0a%3ctable%20style%3d%22border-spacing%3a0%3bpadding%3a0%3bmargin%3a0%3bborder%3a0%3b%22%3e%3ctr%3e%3ctd%20style%3d%22vertical-align%3atop%3bpadding%3a0%3bmargin%3a0%3bborder%3a0%3b%22%3e%0a%3cpre%20tabindex%3d%220%22%20style%3d%22color%3a%23f8f8f2%3bbackground-color%3a%23282a36%3b-moz-tab-size%3a4%3b-o-tab-size%3a4%3btab-size%3a4%3b%22%3e%3ccode%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%201%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%202%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%203%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%204%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%205%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%206%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%207%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%208%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e%209%0a%3c%2fspan%3e%3cspan%20style%3d%22white-space%3apre%3b-webkit-user-select%3anone%3buser-select%3anone%3bmargin-right%3a0.4em%3bpadding%3a0%200.4em%200%200.4em%3bcolor%3a%237f7f7f%22%3e10%0a%3c%2fspan%3e%3c%2fcode%3e%3c%2fpre%3e%3c%2ftd%3e%0a%3ctd%20style%3d%22vertical-align%3atop%3bpadding%3a0%3bmargin%3a0%3bborder%3a0%3b%3bwidth%3a100%25%22%3e%0a%3cpre%20tabindex%3d%220%22%20style%3d%22color%3a%23f8f8f2%3bbackground-color%3a%23282a36%3b-moz-tab-size%3a4%3b-o-tab-size%3a4%3btab-size%3a4%3b%22%3e%3ccode%20class%3d%22language-swift%22%20data-lang%3d%22swift%22%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eimport%3c%2fspan%3e%20%3cspan%20style%3d%22color%3a%2350fa7b%22%3eFoundation%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3estruct%3c%2fspan%3e%20%3cspan%20style%3d%22color%3a%2350fa7b%22%3eLocation%3c%2fspan%3e%3a%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eHashable%3c%2fspan%3e%2c%20Codable%2c%20Identifiable%20%7b%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%20%20%20%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3evar%3c%2fspan%3e%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eid%3c%2fspan%3e%3a%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eInt%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%20%20%20%20%3cspan%20style%3d%22color%3a%236272a4%22%3e%2f%2f%20%e7%bb%8f%e5%ba%a6%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%20%20%20%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3evar%3c%2fspan%3e%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3elongitude%3c%2fspan%3e%3a%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eDouble%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%20%20%20%20%3cspan%20style%3d%22color%3a%236272a4%22%3e%2f%2f%20%e7%ba%ac%e5%ba%a6%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%20%20%20%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3evar%3c%2fspan%3e%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3elatitude%3c%2fspan%3e%3a%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eDouble%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%20%20%20%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3evar%3c%2fspan%3e%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eisValid%3c%2fspan%3e%3a%20%3cspan%20style%3d%22color%3a%238be9fd%3bfont-style%3aitalic%22%3eBool%3c%2fspan%3e%0a%3c%2fspan%3e%3c%2fspan%3e%3cspan%20style%3d%22display%3aflex%3b%22%3e%3cspan%3e%7d%0a%3c%2fspan%3e%3c%2fspan%3e%3c%2fcode%3e%3c%2fpre%3e%3c%2ftd%3e%3c%2ftr%3e%3c%2ftable%3e%0a%3c%2fdiv%3e%0a%3c%2fdiv%3e%3cp%3e%e5%9d%90%e6%a0%87%e6%95%b0%e6%8d%ae%e7%9a%84%20ViewModel%ef%bc%8c%e6%88%91%e4%bb%ac%e5%b0%86%e4%bb%8e%20location.json%20%e4%b8%ad%e5%8a%a0%e8%bd%bd%e6%89%80%e6%9c%89%e7%9a%84%e5%9d%90%e6%a0%87%e7%82%b9%ef%bc%8c%e4%bb%a3%e7%a0%81%e5%a6%82%e4%b8%8b%ef%bc%9a%3c%2fp%3e" aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fwww.orechou.com%2fposts%2f2022%2f%25E4%25BD%25BF%25E7%2594%25A8-swiftui-%25E5%259C%25A8%25E5%259C%25B0%25E5%259B%25BE%25E4%25B8%25AD%25E7%25BB%2598%25E5%2588%25B6%25E5%259D%2590%25E6%25A0%2587%25E8%25BD%25A8%25E8%25BF%25B9%2f&t=%e4%bd%bf%e7%94%a8%20SwiftUI%20%e5%9c%a8%e5%9c%b0%e5%9b%be%e4%b8%ad%e7%bb%98%e5%88%b6%e5%9d%90%e6%a0%87%e8%bd%a8%e8%bf%b9" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="toggleDisplay('nav-footer');return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="toggleDisplay('toc-footer');return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="toggleDisplay('share-footer');return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="window.scrollTo({top: 0, behavior: 'smooth'});" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2026  OreChou 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Posts</a></li>
         
        <li><a href="/books">Books</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/js/main.js defer></script>

<script src=/js/code-copy.js defer></script>




</html>
